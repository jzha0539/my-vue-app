(function(){"use strict";var e={7826:function(e,a,t){var n=t(5130),o=t(6768),s=(t(4114),t(4232)),l=t(1387),r=t(6400),u=t(4388),c=t(2832);const i={apiKey:"AIzaSyAQkVfclEUza4nptF6fj8suCoMT3PQphYQ",authDomain:"fit5032-89f2d.firebaseapp.com",projectId:"fit5032-89f2d",storageBucket:"fit5032-89f2d.firebasestorage.app",messagingSenderId:"1097868026347",appId:"1:1097868026347:web:7e23a7fee12904e6a0b9ae",measurementId:"G-BNXDRGKK9K"},d=(0,r.Wp)(i),m=(0,u.xI)(d),v=(0,c.aU)(d);var p=v,b=t(144);const k={class:"d-flex justify-content-center gap-2 my-4"};var f={__name:"BHeader",setup(e){const a=(0,l.rd)(),t=(0,b.KR)(!1);async function n(){await(0,u.CI)(m),a.push({name:"Login"})}return(0,o.sV)(()=>{(0,u.hg)(m,e=>{t.value=!!e})}),(e,a)=>{const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",k,[(0,o.bF)(l,{class:"btn btn-outline-primary",to:{name:"Home"}},{default:(0,o.k6)(()=>[...a[0]||(a[0]=[(0,o.eW)(" Home ",-1)])]),_:1}),(0,o.bF)(l,{class:"btn btn-outline-primary",to:{name:"About"}},{default:(0,o.k6)(()=>[...a[1]||(a[1]=[(0,o.eW)(" About ",-1)])]),_:1}),(0,o.bF)(l,{class:"btn btn-outline-primary",to:{name:"FireLogin"}},{default:(0,o.k6)(()=>[...a[2]||(a[2]=[(0,o.eW)(" Firebase Login ",-1)])]),_:1}),(0,o.bF)(l,{class:"btn btn-outline-primary",to:{name:"FireRegister"}},{default:(0,o.k6)(()=>[...a[3]||(a[3]=[(0,o.eW)(" Register ",-1)])]),_:1}),t.value?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"btn btn-outline-primary",to:{name:"AddBook"}},{default:(0,o.k6)(()=>[...a[4]||(a[4]=[(0,o.eW)(" Add Book ",-1)])]),_:1})):(0,o.Q3)("",!0),(0,o.bF)(l,{class:"btn btn-outline-primary",to:{name:"GetBookCount"}},{default:(0,o.k6)(()=>[...a[5]||(a[5]=[(0,o.eW)(" Get Book Count ",-1)])]),_:1}),t.value?((0,o.uX)(),(0,o.Wv)(l,{key:1,to:{name:"GetAllBookAPI"},class:(0,s.C4)(["btn btn-outline-primary mx-1",{active:"GetAllBookAPI"===e.$route.name}])},{default:(0,o.k6)(()=>[...a[6]||(a[6]=[(0,o.eW)(" GetAllBookAPI ",-1)])]),_:1},8,["class"])):(0,o.Q3)("",!0),(0,o.bF)(l,{class:"btn btn-outline-primary",to:"/weather"},{default:(0,o.k6)(()=>[...a[7]||(a[7]=[(0,o.eW)(" Weather ",-1)])]),_:1}),t.value?((0,o.uX)(),(0,o.CE)("button",{key:3,class:"btn btn-secondary",onClick:n}," Logout ")):((0,o.uX)(),(0,o.Wv)(l,{key:2,class:"btn btn-primary",to:{name:"Login"}},{default:(0,o.k6)(()=>[...a[8]||(a[8]=[(0,o.eW)(" Login ",-1)])]),_:1}))])}}};const y=f;var h=y;const g={class:"container my-4"};var L={__name:"App",setup(e){return(e,a)=>{const t=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(h),(0,o.Lk)("main",g,[(0,o.bF)(t)])],64)}}};const w=L;var C=w,A=(t(323),t(7440)),x=t(4720),_=t(9549),E=t(373),B=t(4392),X=t(1838);const P={class:"container mt-5"},F={class:"row"},R={class:"col-md-8 offset-md-2"},S={class:"row mb-3"},U={class:"col-md-6"},K={key:0,class:"text-danger small mt-1"},I={class:"col-md-6"},V={key:0,class:"text-danger small mt-1"},W={class:"row mb-3"},G={class:"col-md-6"},J={key:0,class:"text-danger small mt-1"},N={class:"col-md-6"},Q={key:0,class:"text-danger small mt-1"},O={class:"row mb-3"},D={class:"col-md-6"},q={class:"form-check"},j={key:0,class:"text-danger small mt-1"},$={class:"mb-3"},H={key:0,class:"text-danger small mt-1"},M={key:1,class:"text-success small mt-1"},T={class:"text-center"},Y=["disabled"];var Z={__name:"UserForm",setup(e){const a=(0,b.KR)({username:"",password:"",confirmPassword:"",isAustralian:!1,reason:"",gender:""}),t=(0,b.KR)([]),l=(0,b.KR)({username:null,password:null,confirmPassword:null,resident:null,gender:null,reason:null}),r=(0,b.KR)(""),u=e=>{const t=a.value.username.trim();t.length<3?e&&(l.value.username="Name must be at least 3 characters"):l.value.username=null},c=e=>{const t=a.value.password,n=8,o=/[A-Z]/.test(t),s=/[a-z]/.test(t),r=/\d/.test(t),u=/[!@#$%^&*(),.?":{}|<>]/.test(t);t.length<n?e&&(l.value.password=`Password must be at least ${n} characters long.`):l.value.password=o?s?r?u?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one lowercase letter.":"Password must contain at least one uppercase letter."},i=()=>{c(!1),d(!1)},d=e=>{const{password:t,confirmPassword:n}=a.value;l.value.confirmPassword=n?t!==n?"Passwords do not match.":null:e?"Please confirm your password.":null},m=e=>{a.value.isAustralian?l.value.resident=null:e&&(l.value.resident="Please confirm residency (tick the checkbox).")},v=e=>{a.value.gender?l.value.gender=null:e&&(l.value.gender="Please select a gender.")},p=e=>{const t=(a.value.reason||"").trim(),n=/\bfriend\b/i.test(t);r.value="",t?(l.value.reason=null,n&&(r.value="Great to have a friend")):e&&(l.value.reason="Reason is required.")},k=()=>{u(!0),v(!0),c(!0),d(!0),m(!0),p(!0),l.value.username||l.value.gender||l.value.password||l.value.confirmPassword||l.value.reason||(t.value.push({...a.value}),f())},f=()=>{a.value={username:"",password:"",confirmPassword:"",isAustralian:!1,reason:"",gender:""},l.value={username:null,password:null,confirmPassword:null,resident:null,gender:null,reason:null},r.value=""},y=(0,o.EW)(()=>!!(l.value.username||l.value.password||l.value.confirmPassword||l.value.resident||l.value.gender||l.value.reason));return(e,r)=>{const b=(0,o.g2)("Column"),h=(0,o.g2)("DataTable");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("div",F,[(0,o.Lk)("div",R,[r[22]||(r[22]=(0,o.Lk)("h1",{class:"text-center"},"User Information Form",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(k,["prevent"])},[(0,o.Lk)("div",S,[(0,o.Lk)("div",U,[r[15]||(r[15]=(0,o.Lk)("label",{for:"username",class:"form-label"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{id:"username",type:"text",class:"form-control","onUpdate:modelValue":r[0]||(r[0]=e=>a.value.username=e),onBlur:r[1]||(r[1]=e=>u(!0)),onInput:r[2]||(r[2]=e=>u(!1))},null,544),[[n.Jo,a.value.username]]),l.value.username?((0,o.uX)(),(0,o.CE)("div",K,(0,s.v_)(l.value.username),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",I,[r[17]||(r[17]=(0,o.Lk)("label",{for:"gender",class:"form-label"},"Gender",-1)),(0,o.bo)((0,o.Lk)("select",{id:"gender",class:"form-select","onUpdate:modelValue":r[3]||(r[3]=e=>a.value.gender=e),onBlur:r[4]||(r[4]=e=>v(!0)),onChange:r[5]||(r[5]=e=>v(!1))},[...r[16]||(r[16]=[(0,o.Lk)("option",{value:""},"Select gender",-1),(0,o.Lk)("option",{value:"male"},"Male",-1),(0,o.Lk)("option",{value:"female"},"Female",-1),(0,o.Lk)("option",{value:"other"},"Other",-1)])],544),[[n.u1,a.value.gender]]),l.value.gender?((0,o.uX)(),(0,o.CE)("div",V,(0,s.v_)(l.value.gender),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",W,[(0,o.Lk)("div",G,[r[18]||(r[18]=(0,o.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{id:"password",type:"password",class:"form-control","onUpdate:modelValue":r[6]||(r[6]=e=>a.value.password=e),onBlur:r[7]||(r[7]=e=>c(!0)),onInput:i},null,544),[[n.Jo,a.value.password]]),l.value.password?((0,o.uX)(),(0,o.CE)("div",J,(0,s.v_)(l.value.password),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",N,[r[19]||(r[19]=(0,o.Lk)("label",{for:"confirmPassword",class:"form-label"},"Confirm password",-1)),(0,o.bo)((0,o.Lk)("input",{id:"confirmPassword",type:"password",class:"form-control","onUpdate:modelValue":r[8]||(r[8]=e=>a.value.confirmPassword=e),onBlur:r[9]||(r[9]=e=>d(!0)),onInput:i},null,544),[[n.Jo,a.value.confirmPassword]]),l.value.confirmPassword?((0,o.uX)(),(0,o.CE)("div",Q,(0,s.v_)(l.value.confirmPassword),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",O,[(0,o.Lk)("div",D,[(0,o.Lk)("div",q,[(0,o.bo)((0,o.Lk)("input",{id:"isAustralian",type:"checkbox",class:"form-check-input","onUpdate:modelValue":r[10]||(r[10]=e=>a.value.isAustralian=e),onChange:r[11]||(r[11]=e=>m(!0))},null,544),[[n.lH,a.value.isAustralian]]),r[20]||(r[20]=(0,o.Lk)("label",{class:"form-check-label",for:"isAustralian"}," Australian Resident? ",-1))]),l.value.resident?((0,o.uX)(),(0,o.CE)("div",j,(0,s.v_)(l.value.resident),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",$,[r[21]||(r[21]=(0,o.Lk)("label",{for:"reason",class:"form-label"},"Reason for joining",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"reason",rows:"3",class:"form-control","onUpdate:modelValue":r[12]||(r[12]=e=>a.value.reason=e),onBlur:r[13]||(r[13]=e=>p(!0)),onInput:r[14]||(r[14]=e=>p(!1))},null,544),[[n.Jo,a.value.reason]]),l.value.reason?((0,o.uX)(),(0,o.CE)("div",H,(0,s.v_)(l.value.reason),1)):/\bfriend\b/i.test(a.value.reason||"")?((0,o.uX)(),(0,o.CE)("div",M," Great to have a friend ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",T,[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary me-2",disabled:y.value}," Submit ",8,Y),(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:f}," Clear ")])],32),t.value.length?((0,o.uX)(),(0,o.Wv)(h,{key:0,value:t.value,class:"mt-4",dataKey:"username","responsive-layout":"scroll"},{default:(0,o.k6)(()=>[(0,o.bF)(b,{field:"username",header:"Username"}),(0,o.bF)(b,{field:"password",header:"Password"}),(0,o.bF)(b,{field:"isAustralian",header:"Australian Resident",body:e=>e.isAustralian?"Yes":"No"},null,8,["body"]),(0,o.bF)(b,{field:"gender",header:"Gender"}),(0,o.bF)(b,{field:"reason",header:"Reason"})]),_:1},8,["value"])):(0,o.Q3)("",!0)])])])}}},z=t(1241);const ee=(0,z.A)(Z,[["__scopeId","data-v-acf85608"]]);var ae=ee,te={__name:"HomeView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(ae))}};const ne=te;var oe=ne;const se={class:"about"};var le={__name:"AboutView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.CE)("section",se,[...a[0]||(a[0]=[(0,o.Lk)("h1",null,"About Our Library",-1),(0,o.Lk)("p",null,"Welcome to our digital library! We're dedicated to providing a vast collection of books and resources to our community.",-1)])]))}};const re=(0,z.A)(le,[["__scopeId","data-v-9eccc798"]]);var ue=re;const ce={username:"ZJY",password:"ZJYlibrary123!!!"},ie=(0,b.KR)(JSON.parse(localStorage.getItem("auth_user")||"null")),de=(0,o.EW)(()=>!!ie.value);function me(e,a){return e===ce.username&&a===ce.password?(ie.value={username:e},localStorage.setItem("auth_user",JSON.stringify(ie.value)),{ok:!0}):{ok:!1,message:"Invalid username or password"}}const ve={class:"py-5"},pe={class:"mx-auto",style:{"max-width":"420px"}},be={class:"mb-3"},ke={class:"mb-3"},fe={key:0,class:"text-danger small mb-3"};var ye={__name:"LoginView",setup(e){const a=(0,l.rd)(),t=(0,l.lq)(),r=(0,b.Kh)({username:"",password:""}),u=(0,b.KR)("");function c(){const e=me(r.username,r.password);if(e.ok){const e=t.query.redirect||{name:"About"};a.replace(e)}else u.value=e.message}return(e,a)=>((0,o.uX)(),(0,o.CE)("section",ve,[(0,o.Lk)("div",pe,[a[6]||(a[6]=(0,o.Lk)("h1",{class:"h3 mb-4 text-center"},"Login",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(c,["prevent"])},[(0,o.Lk)("div",be,[a[2]||(a[2]=(0,o.Lk)("label",{class:"form-label"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>r.username=e),required:""},null,512),[[n.Jo,r.username,void 0,{trim:!0}]])]),(0,o.Lk)("div",ke,[a[3]||(a[3]=(0,o.Lk)("label",{class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>r.password=e),required:""},null,512),[[n.Jo,r.password]])]),u.value?((0,o.uX)(),(0,o.CE)("p",fe,(0,s.v_)(u.value),1)):(0,o.Q3)("",!0),a[4]||(a[4]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Login",-1)),a[5]||(a[5]=(0,o.Lk)("p",{class:"text-muted small mt-3"},[(0,o.eW)(" Demo account: "),(0,o.Lk)("code",null,"librarian"),(0,o.eW)(" / "),(0,o.Lk)("code",null,"library123")],-1))],32)])]))}};const he=ye;var ge=he;const Le={class:"py-5 text-center"};function we(e,a){const t=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",Le,[a[1]||(a[1]=(0,o.Lk)("h1",{class:"display-6 mb-3"},"Access denied",-1)),a[2]||(a[2]=(0,o.Lk)("p",{class:"lead text-muted"},"Please log in to continue.",-1)),(0,o.bF)(t,{class:"btn btn-primary mt-3",to:{name:"Login",query:{redirect:e.$route.fullPath}}},{default:(0,o.k6)(()=>[...a[0]||(a[0]=[(0,o.eW)(" Go to Login ",-1)])]),_:1},8,["to"])])}const Ce={},Ae=(0,z.A)(Ce,[["render",we]]);var xe=Ae;const _e={class:"py-5"},Ee={class:"mx-auto",style:{"max-width":"420px"}},Be={class:"mb-3"},Xe={class:"mb-3"},Pe={class:"small mt-2"};var Fe={__name:"FirebaseSigninView",setup(e){const a=(0,l.rd)(),t=(0,b.KR)(""),r=(0,b.KR)(""),c=(0,b.KR)(""),i=(0,b.KR)(!1);(0,o.sV)(()=>{(0,u.hg)(m,e=>{console.log("🔥 current user:",e)})});const d=async()=>{c.value="",i.value=!1;try{const{user:e}=await(0,u.x9)(m,t.value,r.value);console.log("Login successful:",e),i.value=!0,c.value="Logged in",a.push("/")}catch(e){console.error(e),c.value=e.message||String(e)}},v=async()=>{await(0,u.CI)(m),console.log("👋 logged out, current user:",m.currentUser),i.value=!0,c.value="Logged out"};return(e,a)=>{const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",_e,[(0,o.Lk)("div",Ee,[a[8]||(a[8]=(0,o.Lk)("h1",{class:"h4 mb-4 text-center"},"Sign in",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(d,["prevent"])},[(0,o.Lk)("div",Be,[a[2]||(a[2]=(0,o.Lk)("label",{class:"form-label"},"Email",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"email",required:""},null,512),[[n.Jo,t.value,void 0,{trim:!0}]])]),(0,o.Lk)("div",Xe,[a[3]||(a[3]=(0,o.Lk)("label",{class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),type:"password",required:""},null,512),[[n.Jo,r.value]])]),c.value?((0,o.uX)(),(0,o.CE)("p",{key:0,class:(0,s.C4)(["small",i.value?"text-success":"text-danger"])},(0,s.v_)(c.value),3)):(0,o.Q3)("",!0),a[6]||(a[6]=(0,o.Lk)("button",{class:"btn btn-primary w-100",type:"submit"},"Sign in via Firebase",-1)),(0,o.Lk)("button",{class:"btn btn-secondary w-100 mt-2",type:"button",onClick:v},"Logout"),a[7]||(a[7]=(0,o.Lk)("p",{class:"text-muted small mt-3"},"Open DevTools Console to see current user.",-1)),(0,o.Lk)("p",Pe,[a[5]||(a[5]=(0,o.eW)("No account?",-1)),(0,o.bF)(l,{to:{name:"FireRegister"}},{default:(0,o.k6)(()=>[...a[4]||(a[4]=[(0,o.eW)("Create one",-1)])]),_:1})])],32)])])}}};const Re=Fe;var Se=Re;const Ue={class:"py-5"},Ke={class:"mx-auto",style:{"max-width":"420px"}},Ie={class:"mb-3"},Ve={class:"mb-3"};var We={__name:"FirebaseRegisterView",setup(e){const a=(0,l.rd)(),t=(0,b.KR)(""),r=(0,b.KR)(""),c=(0,b.KR)(""),i=(0,b.KR)(!1),d=async()=>{c.value="",i.value=!1;try{const{user:e}=await(0,u.eJ)(m,t.value,r.value);console.log("Firebase Register Successful!",e),i.value=!0,c.value="Registered successfully",a.push({name:"FireLogin"})}catch(e){console.error(e),c.value=e.message||String(e)}};return(e,a)=>((0,o.uX)(),(0,o.CE)("section",Ue,[(0,o.Lk)("div",Ke,[a[5]||(a[5]=(0,o.Lk)("h1",{class:"h4 mb-4 text-center"},"Create an Account",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(d,["prevent"])},[(0,o.Lk)("div",Ie,[a[2]||(a[2]=(0,o.Lk)("label",{class:"form-label"},"Email",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"email",required:""},null,512),[[n.Jo,t.value,void 0,{trim:!0}]])]),(0,o.Lk)("div",Ve,[a[3]||(a[3]=(0,o.Lk)("label",{class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),type:"password",required:""},null,512),[[n.Jo,r.value]])]),c.value?((0,o.uX)(),(0,o.CE)("p",{key:0,class:(0,s.C4)(["small",i.value?"text-success":"text-danger"])},(0,s.v_)(c.value),3)):(0,o.Q3)("",!0),a[4]||(a[4]=(0,o.Lk)("button",{class:"btn btn-primary w-100",type:"submit"},"Save to Firebase",-1))],32)])]))}};const Ge=We;var Je=Ge;t(8111),t(2489),t(7588);const Ne={class:"card mt-3"},Qe={class:"card-body pb-0"},Oe={class:"row g-2 align-items-center"},De={class:"col-auto"},qe={class:"col-auto"},je={class:"table-responsive"},$e={class:"table table-dark table-striped align-middle mb-0"},He={key:0},Me={class:"text-end"},Te=["onClick"],Ye=["onClick"],Ze={class:"text-end"},ze=["onClick"];var ea={__name:"BookList",setup(e){const a=(0,b.KR)([]),t=(0,b.KR)("asc"),l=(0,b.KR)(10),r=(0,b.KR)(null),u=(0,b.KR)(""),i=(0,b.KR)(null);function d(){return(0,c.P)((0,c.rJ)(p,"books"),(0,c._M)("isbn",">",1e3),(0,c.My)("isbn",t.value),(0,c.AB)(l.value))}async function m(){try{const e=d(),t=await(0,c.GG)(e),n=[];t.forEach(e=>n.push({id:e.id,...e.data()})),a.value=n}catch(e){console.error("Error fetching books:",e),alert("Fetch error, see console for details.")}}function v(e){r.value=e.id,u.value=e.name,i.value=e.isbn}function k(){r.value=null,u.value="",i.value=null}async function f(e){try{if(!u.value||Number.isNaN(Number(i.value)))return void alert("Please enter a valid name and numeric ISBN.");const a=(0,c.H9)(p,"books",e.id);await(0,c.mZ)(a,{name:u.value,isbn:Number(i.value)}),e.name=u.value,e.isbn=Number(i.value),k(),alert("Updated successfully!")}catch(a){console.error("Update error:",a),alert("Update failed. See console.")}}async function y(e){try{if(!confirm(`Delete "${e.name}" ?`))return;const t=(0,c.H9)(p,"books",e.id);await(0,c.kd)(t),a.value=a.value.filter(a=>a.id!==e.id),alert("Deleted.")}catch(t){console.error("Delete error:",t),alert("Delete failed. See console.")}}return(0,o.sV)(m),(e,c)=>((0,o.uX)(),(0,o.CE)("div",Ne,[c[10]||(c[10]=(0,o.Lk)("div",{class:"card-header fw-semibold"},"Books with ISBN > 1000",-1)),(0,o.Lk)("div",Qe,[(0,o.Lk)("form",Oe,[c[6]||(c[6]=(0,o.Lk)("div",{class:"col-auto"},[(0,o.Lk)("label",{class:"col-form-label"},"Order by ISBN")],-1)),(0,o.Lk)("div",De,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":c[0]||(c[0]=e=>t.value=e),class:"form-select form-select-sm"},[...c[4]||(c[4]=[(0,o.Lk)("option",{value:"asc"},"ASC",-1),(0,o.Lk)("option",{value:"desc"},"DESC",-1)])],512),[[n.u1,t.value]])]),c[7]||(c[7]=(0,o.Lk)("div",{class:"col-auto"},[(0,o.Lk)("label",{class:"col-form-label"},"Limit")],-1)),(0,o.Lk)("div",qe,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":c[1]||(c[1]=e=>l.value=e),class:"form-select form-select-sm"},[...c[5]||(c[5]=[(0,o.Lk)("option",{value:5},"5",-1),(0,o.Lk)("option",{value:10},"10",-1),(0,o.Lk)("option",{value:20},"20",-1)])],512),[[n.u1,l.value,void 0,{number:!0}]])]),(0,o.Lk)("div",{class:"col-auto"},[(0,o.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-primary",onClick:m}," Apply ")])])]),(0,o.Lk)("div",je,[(0,o.Lk)("table",$e,[c[9]||(c[9]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{style:{width:"40%"}},"Name"),(0,o.Lk)("th",{style:{width:"25%"}},"ISBN"),(0,o.Lk)("th",{style:{width:"35%"},class:"text-end"},"Actions")])],-1)),(0,o.Lk)("tbody",null,[0===a.value.length?((0,o.uX)(),(0,o.CE)("tr",He,[...c[8]||(c[8]=[(0,o.Lk)("td",{colspan:"3",class:"text-secondary"},"No books found.",-1)])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[r.value!==e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",null,(0,s.v_)(e.name),1),(0,o.Lk)("td",null,(0,s.v_)(e.isbn),1),(0,o.Lk)("td",Me,[(0,o.Lk)("button",{class:"btn btn-sm btn-outline-warning me-2",onClick:a=>v(e)},"Edit",8,Te),(0,o.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:a=>y(e)},"Delete",8,Ye)])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":c[2]||(c[2]=e=>u.value=e),type:"text",class:"form-control form-control-sm"},null,512),[[n.Jo,u.value,void 0,{trim:!0}]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":c[3]||(c[3]=e=>i.value=e),type:"number",min:"0",class:"form-control form-control-sm"},null,512),[[n.Jo,i.value,void 0,{number:!0}]])]),(0,o.Lk)("td",Ze,[(0,o.Lk)("button",{class:"btn btn-sm btn-success me-2",onClick:a=>f(e)},"Save",8,ze),(0,o.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:k},"Cancel")])],64))]))),128))])])])]))}};const aa=ea;var ta=aa;const na={class:"container py-4"},oa={class:"d-flex justify-content-between align-items-center mb-3"},sa={class:"card shadow-sm mb-4"},la={class:"card-body"},ra={class:"row g-3 align-items-end"},ua={class:"col-md-3"},ca={key:0,class:"form-text text-danger"},ia={class:"col-md-5"},da={class:"col-md-4 d-grid d-md-flex gap-2"},ma=["disabled"],va={key:0,class:"spinner-border spinner-border-sm me-2"};var pa={__name:"AddBookView",setup(e){const a=(0,b.KR)(""),t=(0,b.KR)(""),l=(0,b.KR)(!1),r=(0,b.KR)(null),u=(0,o.EW)(()=>/^\d+$/.test(a.value)&&t.value.trim().length>0),i=()=>{a.value="",t.value="",r.value=null},d=async()=>{if(u.value){l.value=!0,r.value=null;try{await(0,c.gS)((0,c.rJ)(v,"books"),{isbn:Number(a.value),name:t.value.trim(),createdAt:(0,c.O5)()}),i(),r.value={type:"success",text:"Book added successfully!"}}catch(e){r.value={type:"danger",text:`Failed to add: ${e.message}`}}finally{l.value=!1}}};return(e,c)=>{const m=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",na,[(0,o.Lk)("div",oa,[c[3]||(c[3]=(0,o.Lk)("h1",{class:"h3 mb-0"},"Add Book",-1)),(0,o.bF)(m,{class:"btn btn-outline-secondary",to:{name:"Home"}},{default:(0,o.k6)(()=>[...c[2]||(c[2]=[(0,o.eW)("Back",-1)])]),_:1})]),(0,o.Lk)("div",sa,[(0,o.Lk)("div",la,[(0,o.Lk)("form",{onSubmit:(0,n.D$)(d,["prevent"]),novalidate:""},[(0,o.Lk)("div",ra,[(0,o.Lk)("div",ua,[c[4]||(c[4]=(0,o.Lk)("label",{for:"isbn",class:"form-label"},"ISBN",-1)),(0,o.bo)((0,o.Lk)("input",{id:"isbn",type:"number",class:"form-control","onUpdate:modelValue":c[0]||(c[0]=e=>a.value=e),min:"0",placeholder:"e.g. 1234"},null,512),[[n.Jo,a.value,void 0,{trim:!0}]]),a.value&&!/^\d+$/.test(a.value)?((0,o.uX)(),(0,o.CE)("div",ca," ISBN must be a number ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ia,[c[5]||(c[5]=(0,o.Lk)("label",{for:"name",class:"form-label"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"name",type:"text",class:"form-control","onUpdate:modelValue":c[1]||(c[1]=e=>t.value=e),placeholder:"Book title"},null,512),[[n.Jo,t.value,void 0,{trim:!0}]])]),(0,o.Lk)("div",da,[(0,o.Lk)("button",{class:"btn btn-primary px-4",type:"submit",disabled:!u.value||l.value},[l.value?((0,o.uX)(),(0,o.CE)("span",va)):(0,o.Q3)("",!0),c[6]||(c[6]=(0,o.eW)(" Add Book ",-1))],8,ma),(0,o.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:i},"Clear")])])],32),r.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["alert","mt-3","success"===r.value.type?"alert-success":"alert-danger"])},(0,s.v_)(r.value.text),3)):(0,o.Q3)("",!0)])]),(0,o.bF)(ta,{class:"mt-3"})])}}};const ba=pa;var ka=ba;const fa={class:"container py-4"},ya={key:0,class:"mt-3"},ha={key:1,class:"mt-3 text-muted"},ga={key:2,class:"text-danger"};function La(e,a,t,n,l,r){return(0,o.uX)(),(0,o.CE)("div",fa,[a[1]||(a[1]=(0,o.Lk)("h1",null,"Book Counter",-1)),(0,o.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=(...e)=>r.getBookCount&&r.getBookCount(...e))},"Get Book Count"),null!==l.count?((0,o.uX)(),(0,o.CE)("p",ya,"Total number of books: "+(0,s.v_)(l.count),1)):((0,o.uX)(),(0,o.CE)("p",ha,"Click the button to fetch.")),l.error?((0,o.uX)(),(0,o.CE)("p",ga,(0,s.v_)(l.error),1)):(0,o.Q3)("",!0)])}var wa=t(4373),Ca={name:"GetBookCountView",data(){return{count:null,error:null}},methods:{async getBookCount(){this.error=null,this.count=null;try{const e="https://countbooks-vhvgxmyuwq-uc.a.run.app",a=await wa.A.get(e);this.count=a.data.count}catch(e){console.error(e),this.error="Failed to fetch count"}}}};const Aa=(0,z.A)(Ca,[["render",La]]);var xa=Aa;const _a={class:"container py-4"},Ea={key:0,class:"text-danger"},Ba={key:1,class:"bg-dark text-light p-3 rounded",style:{"white-space":"pre-wrap"}};function Xa(e,a,t,n,l,r){return(0,o.uX)(),(0,o.CE)("div",_a,[a[0]||(a[0]=(0,o.Lk)("h1",null,"GetAllBookAPI",-1)),e.error?((0,o.uX)(),(0,o.CE)("div",Ea,(0,s.v_)(e.error),1)):((0,o.uX)(),(0,o.CE)("pre",Ba,(0,s.v_)(e.json),1))])}var Pa={name:"GetAllBookAPI",data:()=>({json:"",error:null}),async mounted(){try{const e="https://getallbooks-vhvgxmyuwq-uc.a.run.app",{data:a}=await wa.A.get(e);this.json=JSON.stringify(a,null,2)}catch(e){this.error=e.response?.data?.error||e.message}}};const Fa=(0,z.A)(Pa,[["render",Xa]]);var Ra=Fa;const Sa={class:"container py-4"},Ua={class:"card p-3 mb-3"},Ka={class:"d-flex gap-2"},Ia={key:0,class:"text-danger mb-2"},Va={key:1,class:"card p-3"},Wa={class:"mb-1"},Ga={class:"d-flex align-items-center gap-3"},Ja=["src"],Na={class:"fs-3"},Qa={class:"text-muted"},Oa={key:2,class:"text-muted"};function Da(e,a,t,l,r,u){return(0,o.uX)(),(0,o.CE)("div",Sa,[a[3]||(a[3]=(0,o.Lk)("h1",null,"Weather",-1)),(0,o.Lk)("div",Ua,[(0,o.Lk)("div",Ka,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.city=e),class:"form-control",placeholder:"e.g. Clayton, AU"},null,512),[[n.Jo,r.city]]),(0,o.Lk)("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=(...e)=>u.getByCity&&u.getByCity(...e))},"Search"),(0,o.Lk)("button",{class:"btn btn-outline-secondary",onClick:a[2]||(a[2]=(...e)=>u.getByGeo&&u.getByGeo(...e))},"Use my location")])]),r.error?((0,o.uX)(),(0,o.CE)("div",Ia,(0,s.v_)(r.error),1)):(0,o.Q3)("",!0),r.weather?((0,o.uX)(),(0,o.CE)("div",Va,[(0,o.Lk)("h3",Wa,(0,s.v_)(r.weather.name),1),(0,o.Lk)("div",Ga,[u.iconUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:u.iconUrl,alt:"icon"},null,8,Ja)):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.Lk)("div",Na,(0,s.v_)(Math.round(r.weather.main.temp))+" °C",1),(0,o.Lk)("div",Qa,(0,s.v_)(r.weather.weather[0].description),1)])])])):((0,o.uX)(),(0,o.CE)("p",Oa,"Click the button to fetch."))])}var qa={name:"WeatherView",data(){return{city:"Clayton, AU",weather:null,error:null}},computed:{iconUrl(){if(!this.weather)return null;const e=this.weather.weather?.[0]?.icon;return e?`https://openweathermap.org/img/wn/${e}@2x.png`:null}},methods:{async getByCity(){this.error=null,this.weather=null;try{const e="https://api.openweathermap.org/data/2.5/weather",{data:a}=await wa.A.get(e,{params:{q:this.city,units:"metric",appid:"323332b23a653c8046e9168323f7e1de\n"}});this.weather=a}catch(e){this.error=e.response?.data?.message||e.message}},async getByGeo(){this.error=null,this.weather=null,navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{try{const{latitude:a,longitude:t}=e.coords,n="https://api.openweathermap.org/data/2.5/weather",{data:o}=await wa.A.get(n,{params:{lat:a,lon:t,units:"metric",appid:"323332b23a653c8046e9168323f7e1de\n"}});this.weather=o}catch(a){this.error=a.response?.data?.message||a.message}},e=>{this.error=e.message||"Location denied"}):this.error="Geolocation not supported"}}};const ja=(0,z.A)(qa,[["render",Da]]);var $a=ja;const Ha=[{path:"/FireLogin",name:"FireLogin",component:Se},{path:"/",name:"Home",component:oe},{path:"/about",name:"About",component:ue,meta:{requiresAuth:!0}},{path:"/addbook",name:"AddBook",component:ka,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:ge},{path:"/firelogin",name:"FireLogin",component:Se},{path:"/fireregister",name:"FireRegister",component:Je},{path:"/denied",name:"Denied",component:xe},{path:"/GetBookCount",name:"GetBookCount",component:xa},{path:"/GetAllBookAPI",name:"GetAllBookAPI",component:Ra},{path:"/weather",name:"Weather",component:$a},{path:"/:pathMatch(.*)*",redirect:"/"}],Ma=(0,l.aE)({history:(0,l.LA)("/my-vue-app/"),routes:Ha});Ma.beforeEach((e,a,t)=>{e.meta.requiresAuth&&!de.value?t({name:"Login",query:{redirect:e.fullPath}}):t()});var Ta=Ma;const Ya=(0,n.Ef)(C);Ya.use(A.Ay,{theme:{preset:x.A}}),Ya.use(Ta),Ya.component("DataTable",_.A),Ya.component("Column",E.A),Ya.component("ColumnGroup",B.A),Ya.component("Row",X.A),Ya.mount("#app")}},a={};function t(n){var o=a[n];if(void 0!==o)return o.exports;var s=a[n]={exports:{}};return e[n].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,n,o,s){if(!n){var l=1/0;for(i=0;i<e.length;i++){n=e[i][0],o=e[i][1],s=e[i][2];for(var r=!0,u=0;u<n.length;u++)(!1&s||l>=s)&&Object.keys(t.O).every(function(e){return t.O[e](n[u])})?n.splice(u--,1):(r=!1,s<l&&(l=s));if(r){e.splice(i--,1);var c=o();void 0!==c&&(a=c)}}return a}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[n,o,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var o,s,l=n[0],r=n[1],u=n[2],c=0;if(l.some(function(a){return 0!==e[a]})){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(u)var i=u(t)}for(a&&a(n);c<l.length;c++)s=l[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(i)},n=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(7826)});n=t.O(n)})();
//# sourceMappingURL=app.4b9702a8.js.map